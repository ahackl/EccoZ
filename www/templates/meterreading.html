<ion-view title="{{'M_TITEL_READINGS'|translate}}">
    <ion-nav-buttons side="right">
        <a class="button button-icon icon ion-plus-round" ng-click="onItemNew()"></a>
    </ion-nav-buttons>
    <ion-content class="has-header">

        <div class="card">
            <div class="item item-text-wrap">
                <div style="text-align: center; font-weight: bold;">{{meter.number}}</div>
                <br/>
                <div style="text-align: center; font-weight: bold;">{{meter.unit}} / {{meter.unitPrice}}</div>
                <br/>
                <div style="text-align: center; font-weight: bold;">{{meter.comment}}</div>
            </div>
        </div>


        <ion-list can-swipe="true">
            <div ng-repeat="groupedPair in data.groupedPairs track by groupedPair[0]">
                <ion-item class="item-divider">
                    {{groupedPair[0]}}
                </ion-item>
                <ion-item ng-repeat="item in groupedPair[1] track by item.key">



                    <div class="row">
                        <div class="col">
                            <h2  align="center">
                                <b>{{item.doc.inputDateTime | date : 'dd' }}</b>
                                ( {{item.doc.inputDateTime | date : 'HH:mm' }} )
                            </h2>
                        </div>
                        <div class="col"><h2  align="center">{{item.doc.readingValue | number : 2}}</h1></div>

                   </div>

                    <ion-option-button class="button-assertive" ng-click="onItemDelete(item)">
                        {{'B_DELETE'|translate}}
                    </ion-option-button>
                    <ion-option-button class="button-calm" ng-click="onItemEdit(item)">
                        {{'B_EDIT'|translate}}
                    </ion-option-button>

                </ion-item>
            </div>
        </ion-list>








         <!--  The URL -> Same as onItemEdit -->
         <!--   href="#/app/meter/{{oneElement.doc.EnergieMeter_id}}/reading/{{oneElement.doc._id}}" -->
        <!--
        <ion-list can-swipe="true">
            <ion-item ng-repeat="oneElement in data.ListOfElements" type="item-text-wrap">

                <div class="item item-divider" ng-if="data.ListOfElements[$index-1].key[2][0]!=oneElement.key[2][0] || data.ListOfElements[$index-1].key[2][1]!=oneElement.key[2][1]">
                    {{oneElement.doc.inputDateTime | date : 'yyyy' }} - {{oneElement.doc.inputDateTime | date : 'MM' }}
                </div>


                <h2  align="center"> {{oneElement.doc.inputDateTime | date : 'yyyy-MM-dd HH:mm' }} / {{oneElement.doc.readingValue}}</h2>

                <ion-option-button class="button-assertive" ng-click="onItemDelete($index)">
                    {{'B_DELETE'|translate}}
                </ion-option-button>
                <ion-option-button class="button-calm" ng-click="onItemEdit($index)">
                    {{'B_EDIT'|translate}}
                </ion-option-button>

            </ion-item>
        </ion-list>
        -->
        <ion-infinite-scroll on-infinite="fetchMoreLines()" ng-if="!data.noMoreItemsAvailable"
                             distance="10%"></ion-infinite-scroll>
    </ion-content>
</ion-view>
